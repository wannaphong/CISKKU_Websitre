{% extends "layout.twig" %}

{% block style %}
<link rel="stylesheet" href="{{ base_url() }}/css/main.css">
{% endblock %}

{% block content %}
  <main role="main">
    <div class="jumbotron rounded-0">
      <div class="container">
        <h1 class="display-3 d-md-block d-none">สาขาวิทยาการคอมพิวเตอร์และสารสนเทศ</h1>
        <h1 class="display-5 d-md-none d-block">สาขาวิทยาการคอมพิวเตอร์และสารสนเทศ</h1>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="col-6">
          <h3>
            <i class="far fa-newspaper"></i> ข่าวสาร</h3>
        </div>
        <div class="col-6 text-right">
          <a class="btn btn-light" href="{{ path_for('news') }}" role="button">ข่าวเก่า</a>
        </div>
        <div class="col-12">
          <hr>
        </div>
        {% for news in resNews %}
          <div class="col-md-4 p-2">
            {% if news['full_picture'] %}
              <img src="{{ news['full_picture'] }}" alt="news images" class="mx-auto d-block rounded my-3 news-img">
            {% else %}
              <img src="{{ base_url() }} /assets/images/megaphone.png" alt="news images" class="mx-auto d-block rounded my-3 news-img">
            {% endif %}
            <span class="badge badge-dark">โพสต์เมื่อ : {{ news['created_time']['date']|slice(0, 19) }}</span>
            <p>{{ news['message']|slice(0, 150) }} . . .</p>
            <p>
              <a class="btn btn-secondary" href="{{ news['link'] }}" target="_blank" role="button">อ่านเพิ่มเติม »</a>
            </p>
          </div>
        {% endfor %}
      </div>
      <div class="row mt-5">
        <div class="col-6">
          <h3>
            <i class="far fa-calendar-alt"></i> กิจกรรมที่กำลังจะมาถึง</h3>
        </div>
        <div class="col-6 text-right">
          <a class="btn btn-light" href="{{ path_for('event') }}" role="button">กิจกรรมที่ผ่านมา</a>
        </div>
        <div class="col-12">
          <hr>
        </div>
        {% for event in resEvent %}
          <div class="col-12">
            <div class="card flex-md-row mb-4 box-shadow h-md-250">
              <div class="card-body d-flex flex-column align-items-start">
                <h3 class="mb-0">{{ event['name'] }}</h3>
                <strong class="d-inline-block mb-0 text-success"><i class="far fa-clock"></i> ตั้งแต่วันที่ : {{ event['start_time']['date']|slice(0, 10) }} เวลา : {{ event['start_time']['date']|slice(11, 8) }} {{ 'ถึงวันที่วันที่ : '~event['end_time']['date']|slice(0, 10)|e }} {{ 'เวลา : '~event['end_time']['date']|slice(11, 8)|e }}</strong>
                <div class="mb-1 text-muted">
                  <i class="fas fa-map-marker-alt"></i> ณ {{ event['place']['name']|e }} {{ event['place']['location']['street']|e }} {{ event['place']['location']['city']|e }} {{ event['place']['location']['country']|e }}
                </div>
                <p class="card-text mb-auto">{{ event['description']|slice(0, 150) }}</p>
                <a href="https://www.facebook.com/events/{{ event['id'] }}" target="_blank">อ่านเพิ่มเติม »</a>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </main>
{% endblock %}